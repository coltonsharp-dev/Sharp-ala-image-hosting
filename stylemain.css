:root{
  --ala-red:#c0182c;--ala-blue:#0b3d91;--ala-white:#fff;--ala-black:#0a0b0e;
  --ala-gray-800:#131620;--ala-gray-600:#1e2230;--cta:#cfe97d;
}

*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:radial-gradient(1100px 700px at 70% -10%,#202941 0%,#0f1320 55%,#070a12 100%);
  color:var(--ala-white);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  overflow-x:hidden;
}

/* Stage */
.gallery{
  position:relative;min-height:100vh;display:flex;flex-wrap:wrap;gap:50px;
  justify-content:center;align-content:start;padding:40px 24px 88px;
}

/* Card stack frame */
.cards{position:relative;width:18rem;aspect-ratio:9/16;list-style:none;padding:0;margin:0}

/* Card */
.cards li{
  position:absolute;inset:12px;display:grid;grid-template-rows:auto 1fr auto;border-radius:1rem;
  background:
    linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02)),
    linear-gradient(145deg,rgba(255,255,255,.06),rgba(255,255,255,0));
  border:1px solid rgba(255,255,255,.1);
  box-shadow:0 14px 32px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,.04) inset;
  overflow:hidden;isolation:isolate;opacity:0;transform:scale(.92);
}

/* Electric border */
.cards li::after{
  content:"";position:absolute;inset:-10px;border-radius:1.2rem;
  background:conic-gradient(from 0deg,var(--ala-red),#ffffff,var(--ala-blue),#b0b7c6,var(--ala-red));
  filter:blur(14px) saturate(1.3);opacity:.95;z-index:-1;animation:spin 5.5s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Top bar */
.card-top{
  display:flex;align-items:center;gap:.6rem;padding:.65rem .8rem;
  background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,0));
  border-bottom:1px solid rgba(255,255,255,.08)
}
.bear-badge{
  width:30px;height:30px;display:grid;place-items:center;border-radius:999px;overflow:hidden;
  background:radial-gradient(circle at 30% 30%,#113a86,#061c49);
  box-shadow:0 2px 8px rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.12);
}
.bear-badge img{width:100%;height:100%;object-fit:cover}
.badge-fallback{font-size:.65rem;font-weight:900;letter-spacing:.5px;color:#fff;text-transform:uppercase}

.title{font-weight:900;letter-spacing:.2px;font-size:.95rem;text-transform:uppercase;display:flex;gap:.5rem;align-items:baseline}
.title .dash{width:6px;height:6px;border-radius:999px;background:var(--ala-red)}

.name{
  margin-left:auto;font-weight:800;font-size:.9rem;padding:.2rem .6rem;border-radius:.5rem;
  background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.12);
  transition:transform 140ms ease,letter-spacing 140ms ease,text-shadow 140ms ease;cursor:default;
}
.name:hover{transform:translateY(-2px) scale(1.02);letter-spacing:.4px;text-shadow:0 4px 14px rgba(255,255,255,.18)}

/* ===== Reactive glow stage ===== */
.thumb{
  position:relative;overflow:hidden;display:grid;place-items:center;min-height:11rem;
  border-block:1px solid rgba(255,255,255,.08);
  /* base */
  --mx:50%; --my:50%;
  background:
    radial-gradient(220px 220px at var(--mx) var(--my), rgba(207,233,125,.35), transparent 60%),
    radial-gradient(320px 220px at calc(var(--mx) + 12%) calc(var(--my) + 6%), rgba(11,61,145,.28), transparent 70%),
    linear-gradient(180deg,#000 0%,#0d111a 100%);
}
.thumb::before{
  /* subtle organic tracer using turbulence mask */
  content:"";position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;opacity:.55;
  background:
    radial-gradient(140px 120px at calc(var(--mx) + 10%) calc(var(--my) - 8%), rgba(255,255,255,.20), transparent 70%),
    conic-gradient(from 0deg at var(--mx) var(--my), rgba(192,24,44,.35), rgba(11,61,145,.35), rgba(192,24,44,.35));
  filter:blur(14px);
  animation:breath 6s ease-in-out infinite;
}
@keyframes breath{
  0%,100%{opacity:.45;transform:scale(1)}
  50%{opacity:.72;transform:scale(1.02)}
}

/* ===== Circular avatar (auto for square + pano) ===== */
.avatar-wrap{
  width:72%;aspect-ratio:1/1;border-radius:50%;overflow:hidden;position:relative;
  box-shadow:
    0 10px 34px rgba(0,0,0,.55),
    0 0 0 2px rgba(255,255,255,.12) inset,
    0 0 24px rgba(99,175,255,.25);
  background:radial-gradient(120px 100px at 35% 30%,rgba(255,255,255,.08),transparent 60%);
}
.avatar{
  width:100%;height:100%;display:block;object-fit:cover;object-position:center;
  transform:translateZ(0);
}

/* When image is a panorama, prioritize the upper half */
.avatar.is-pano{object-position:50% 20%}

/* Footer stripe */
.card-bottom{
  display:flex;align-items:center;justify-content:space-between;padding:.6rem .75rem;
  background:linear-gradient(90deg,var(--ala-red),var(--ala-blue) 55%,var(--ala-black) 100%);
}
.card-bottom .cta{
  display:inline-flex;align-items:center;gap:.5rem;font-weight:900;letter-spacing:.3px;font-size:.9rem;
  padding:.4rem .65rem;border-radius:.5rem;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.15);
  text-transform:uppercase;color:#e7f2ff;cursor:pointer;
}
.card-bottom .cta:focus{outline:2px solid var(--cta);outline-offset:2px}
.card-bottom .meta{font-size:.8rem;opacity:.95;font-weight:800}

/* Controls */
.actions{position:absolute;left:50%;bottom:22px;transform:translateX(-50%);display:flex;gap:.8rem}
.actions button{background:var(--ala-gray-600);border:1px solid rgba(255,255,255,.12);color:#e7f2ff;padding:.55rem .95rem;border-radius:.65rem;cursor:pointer;font-weight:800}
.actions button:hover{background:var(--ala-gray-800)} .actions button:focus{outline:2px solid var(--cta);outline-offset:2px}
.drag-proxy{visibility:hidden;position:absolute}
